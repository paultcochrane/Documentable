<!doctype html>
<html lang="en">
<head>
    <title>Pod6 tables</title>
    <meta charset="UTF-8"/>
    <meta name=viewport content="width=device-width, initial-scale=1">
    <link rel="icon" href="/Documentable/integration-test/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="/Documentable/integration-test/css/app.css" media="screen" title="default" />
    <noscript> <style> #search { visibility: hidden; } </style> </noscript>
</head>

<body class="pod">

    <div id="___top"></div>

    <div id="header" class="pretty-box green">

        <a href="/Documentable/integration-test/">
            <img src="/Documentable/integration-test/images/Camelia.svg"alt="»ö«"id="logo"width="62"height="48"/> &nbsp;Raku Documentation
        </a>

        <div id="search" class="ui-widget">
            <div class="green">
                <input placeholder="Loading..." id="query" accesskey="f" title="Enter term to search for (hit Esc to focus)"/>
            </div>
            <p id="not-found-message">
                Not in Index (<a href="" id="try-web-search">try site search</a>)
            </p>
        </div>
        
        <div class="menu">
            
            <div class="menu-items dark-green">
                <a class='menu-item darker-green' href='https://raku.org'><strong>Raku homepage</strong></a>
                    <a class="menu-item selected darker-green" href="/Documentable/integration-test/language.html"> Language </a>
                    <a class="menu-item " href="/Documentable/integration-test/type.html"> Types </a>
                    <a class="menu-item " href="/Documentable/integration-test/routine.html"> Routines </a>
                    <a class="menu-item " href="https://webchat.freenode.net/?channels=#raku"> Chat with us </a>
            </div>
            
            
            
        
        </div>
    </div>

    <div id="content" class="pretty-box yellow content_fragment">

        <div align="right" style="display:;">
            <button title="Edit this page"  class="pencil" onclick="location='https://github.com/Raku/doc/tree/master/docs/Language/tables.pod6'">
                <svg width="14px" height="16px" viewBox="0 0 14 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <defs></defs>
                    <g id="Octicons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g id="pencil" fill="#000000">
                            <path d="M0,12 L0,15 L3,15 L11,7 L8,4 L0,12 L0,12 Z M3,14 L1,14 L1,12 L2,12 L2,13 L3,13 L3,14 L3,14 Z M13.3,4.7 L12,6 L9,3 L10.3,1.7 C10.69,1.31 11.32,1.31 11.71,1.7 L13.3,3.29 C13.69,3.68 13.69,4.31 13.3,4.7 L13.3,4.7 Z" id="Shape"></path>
                        </g>
                    </g>
                </svg>
            </button>
        </div>

        <h1 class="title">Pod6 tables</h1>
        <p class="subtitle">The good, the bad and the ugly</p>

        <nav class="indexgroup">
<table id="TOC">
<caption><h2 id="TOC_Title">Table of Contents</h2></caption>
      <tr class="toc-level-1"><td class="toc-number">1</td><td class="toc-text"><a href="#Restrictions">Restrictions</a></td></tr>
                <tr class="toc-level-1"><td class="toc-number">2</td><td class="toc-text"><a href="#Best_practices">Best practices</a></td></tr>
                                                                                      <tr class="toc-level-1"><td class="toc-number">3</td><td class="toc-text"><a href="#Good_tables">Good tables</a></td></tr>
                                                                                                                           <tr class="toc-level-1"><td class="toc-number">4</td><td class="toc-text"><a href="#Bad_tables">Bad tables</a></td></tr>
                               <tr class="toc-level-1"><td class="toc-number">5</td><td class="toc-text"><a href="#Ugly_tables">Ugly tables</a></td></tr>
                           
</table>
</nav>

        <div class="pod-body ">
            <p>The official specification for Pod6 tables is located in the Documentation specification here: <a href="https://raw.githubusercontent.com/perl6/specs/master/S26-documentation.pod">Tables</a>. Although Pod6 specifications are not completely and properly handled yet, several projects are ongoing to correct the situation; one such project is ensuring the proper handling of Pod6 tables.</p>
<p>As part of that effort, this document explains the current state of Pod6 tables by example: valid tables, invalid tables, and ugly tables (i.e., valid tables that, because of sloppy construction, may result in something different than the user expects).</p>
<h1 id="Restrictions"><a class="u" href="#___top" title="go to top of document">Restrictions</a></h1>
<p>1. The only valid column separators are either visible (&#39;&nbsp;|&nbsp;&#39; or &#39;&nbsp;+&nbsp;&#39;) (note at least one space is required before and after the visible column separators) or invisible [two or more contiguous whitespace (WS) characters (e.g., &#39;&nbsp;&nbsp;&#39;)]. Column separators are not normally recognized as such at the left or right side of a table, but one on the right side may result in one or more empty cells depending upon the number of the cells in other rows. (Note that a pipe or plus character meant as part of cell data will result in an unintended extra column unless the character is escaped with a backslash, e.g., &#39;\|&#39; or &#39;\+&#39;.)</p>
<p>2. Mixing visible and invisible column separators in the same table is illegal.</p>
<p>3. The only valid row separator characters are &#39;_&#39;, &#39;-&#39;, &#39;+&#39;, &#39;&nbsp;&#39;, &#39;|&#39;, and &#39;=&#39;.</p>
<p>4. Consecutive interior row-separator lines are illegal.</p>
<p>5. Leading and trailing row-separator lines generate a warning.</p>
<p>6. Formatting blocks in table cells are currently ignored and treated as plain text.</p>
<p>HINT: During development, use of the environment variable <code>RAKUDO_POD6_TABLE_DEBUG</code> will show you how Rakudo interprets your Pod tables before they are passed to renderers such as <code>Pod::To::HTML</code>, <code>Pod::To::Text</code>, and <code>Pod::To::Markdown</code>.</p>
<h1 id="Best_practices"><a class="u" href="#___top" title="go to top of document">Best practices</a></h1>
<p>HINT: Not adhering to the following best practices may require more table processing due to additional looping over table rows.</p>
<p>1. Use of WS for column separators is fragile, and they should only be used for simple tables. The <code>Ugly Tables</code> section below illustrates the problem.</p>
<p>2. Align table columns and rows carefully. See the examples in later best practices.</p>
<p>3. Don&#39;t use visual borders on the table.</p>
<p>4. For tables with a heading and single- or multi-line content, use one or more contiguous equal signs (&#39;=&#39;) as the row separator after the heading, and use one or more contiguous hyphens (&#39;-&#39;) as the row separator in the content portion of the table. For example,</p>
<ul><li><p>Heading and single- or multi-line content</p>
</li>
</ul>
<pre class="pod-block-code">=begin table
 hdr col 0 | hdr col 1
 ======================
 row 0     | row 0
 col 0     | col 1
 ----------------------
 row 1     | row 1
 col 0     | col 1
 ----------------------
=end table
</pre>
<ul><li><p>Heading and single-line content</p>
</li>
</ul>
<pre class="pod-block-code">=begin table
 hdr col 0   | hdr col 1
 ======================
 row 0 col 0 | row 0 col 1
 row 1 col 0 | row 1 col 1
=end table
</pre>
<p>5. For tables with no header and multi-line content, use one or more contiguous hyphens (&#39;-&#39;) as the row separator in the content portion of the table. For example,</p>
<pre class="pod-block-code">=begin table
 row 0       | row 0
 col 0       | col 1
 ----------------------
 row 1 col 0 | row 1 col 1
=end table
</pre>
<p>6. For tables with many rows and no multi-line content, using no row separators is fine. However, with one or more rows with multi-line content, it is easier to ensure proper results by using a row separator line (visible or invisible) between every content row.</p>
<p>7. Ensure intentionally empty cells have column separators, otherwise expect a warning about short rows being filled with empty cells. (Tables rows will always have the same number of cells as the row with the most cells. Short rows are padded on the right with empty cells and generate a warning.)</p>
<p>8. Adding a caption to a table is possible using the <code>=begin table</code> line as in this example:</p>
<pre class="pod-block-code">=begin table :caption&lt;My Tasks&gt;
mow lawn
take out trash
=end table
</pre>
<p>Although not a good practice, currently there is in use an alternate method of defining a caption as shown in this example:</p>
<pre class="pod-block-code">=begin table :config{caption =&gt; &quot;My Tasks&quot;}
mow lawn
take out trash
=end table
</pre>
<p>Note the alternative method of putting the caption in the <code>config</code> hash was necessary before the <code>:caption</code> method was implemented, but that method is now considered to be deprecated. The practice will generate a warning in the upcoming version <code>6.d</code>, and it will raise an exception in version <code>6.e</code>.</p>
<h1 id="Good_tables"><a class="u" href="#___top" title="go to top of document">Good tables</a></h1>
<p>Following are examples of valid (Good) tables (taken from the current <a href="https://github.com/Raku/roast">Specification Tests</a>).</p>
<pre class="pod-block-code">=begin table
        The Shoveller   Eddie Stevens     King Arthur&#39;s singing shovel
        Blue Raja       Geoffrey Smith    Master of cutlery
        Mr Furious      Roy Orson         Ticking time bomb of fury
        The Bowler      Carol Pinnsler    Haunted bowling ball
=end table
</pre>
<pre class="pod-block-code">=table
    Constants           1
    Variables           10
    Subroutines         33
    Everything else     57

</pre>
<pre class="pod-block-code">=for table
    mouse    | mice
    horse    | horses
    elephant | elephants

</pre>
<pre class="pod-block-code">=table
    Animal | Legs |    Eats
    =======================
    Zebra  +   4  + Cookies
    Human  +   2  +   Pizza
    Shark  +   0  +    Fish

</pre>
<pre class="pod-block-code">=table
        Superhero     | Secret          |
                      | Identity        | Superpower
        ==============|=================|================================
        The Shoveller | Eddie Stevens   | King Arthur&#39;s singing shovel

</pre>
<pre class="pod-block-code">=begin table

                        Secret
        Superhero       Identity          Superpower
        =============   ===============   ===================
        The Shoveller   Eddie Stevens     King Arthur&#39;s
                                          singing shovel

        Blue Raja       Geoffrey Smith    Master of cutlery

        Mr Furious      Roy Orson         Ticking time bomb
                                          of fury

        The Bowler      Carol Pinnsler    Haunted bowling ball

=end table
</pre>
<pre class="pod-block-code">=table
    X | O |
   ---+---+---
      | X | O
   ---+---+---
      |   | X

</pre>
<pre class="pod-block-code">=table
    X   O
   ===========
        X   O
   ===========
            X

</pre>
<pre class="pod-block-code">=begin table

foo
bar

=end table
</pre>
<h1 id="Bad_tables"><a class="u" href="#___top" title="go to top of document">Bad tables</a></h1>
<p>Following are examples of invalid (Bad) tables, and they should trigger an unhandled exception during parsing.</p>
<ul><li><p>Mixed column separator types in the same row are not allowed:</p>
</li>
</ul>
<pre class="pod-block-code">=begin table
r0c0 +  r0c1 | r0c3
=end table
</pre>
<ul><li><p>Mixed visual and whitespace column separator types in the same table are not allowed:</p>
</li>
</ul>
<pre class="pod-block-code">=begin table
r0c0 +  r0c1 | r0c3
r1c0    r0c1   r0c3
=end table
</pre>
<ul><li><p>Two consecutive interior row separators are not allowed:</p>
</li>
</ul>
<pre class="pod-block-code">=begin table
r0c0 |  r0c1
============
============
r1c0 |  r1c1
=end table
</pre>
<h1 id="Ugly_tables"><a class="u" href="#___top" title="go to top of document">Ugly tables</a></h1>
<p>Following are examples of valid tables that are probably intended to be two columns, but the columns are not aligned well so each will parse as a single-column table.</p>
<ul><li><p>Unaligned columns with WS column separators:</p>
</li>
</ul>
<p>Notice the second row has the two words separated by only <strong>one</strong> WS character, while it takes at least <strong>two</strong> adjacent WS characters to define a column separation. <strong>This is a valid table but will be parsed as a single-column table</strong>.</p>
<pre class="pod-block-code">=begin table
r0c0    r0c1
 r1c0 r0c1
=end table
</pre>
<ul><li><p>Unaligned columns with visual column separators:</p>
</li>
</ul>
<p>Notice the second row has the two words separated by a visible character (&#39;|&#39;) but the character is not recognized as a column separator because it doesn&#39;t have an adjacent WS character on both sides of it. Although this is a legal table, the result will not be what the user intended because the first row has two columns while the second row has only one column, and it will thus have an empty second column.</p>
<pre class="pod-block-code">=begin table
r0c0  |  r0c1
 r1c0 |r0c1
=end table
</pre>

        </div>
    </div>

    

    <footer class="pretty-box yellow">
        <p>
            Generated from <a href="https://github.com/Raku/doc/tree/master/docs/Language/tables.pod6">https://github.com/Raku/doc/tree/master/docs/Language/tables.pod6</a>.
        </p>
        <p>
            This is a work in progress to document Raku (formerly known as Perl 6), and
            known to be incomplete.
        </p>
        <p>
            <a href="https://github.com/raku/doc/blob/master/CONTRIBUTING.md#reporting-bugs">
                Please report any issues
            </a>
            Your contribution is appreciated.
        </p>
        <p>
            This documentation is provided under the terms of the
            <a href="https://raw.githubusercontent.com/raku/doc/master/LICENSE">
                Artistic License 2.0
            </a>. The Camelia image is
            <a href="https://raw.githubusercontent.com/raku/mu/master/misc/camelia.txt">
                copyright © 2009 by Larry Wall.
            </a>
            <!-- CREDITS -->
            <!--External Link Image by Zapyon, CCA-SA 4.0. Derived from Wikimedia Foundation https://commons.wikimedia.org/wiki/File:External-link-04-bold-12x12.svg -->
        </p>
    </footer>

    <script type="text/javascript" src="/Documentable/integration-test/js/app.js?v=1"></script>
    <script type="text/javascript" src="/Documentable/integration-test/js/search.js?v=3"></script>
</body>
</html>

